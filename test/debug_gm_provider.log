2025-05-14 18:16:07,558 [INFO] __main__: 导入必要的模块
2025-05-14 18:16:08,214 [ERROR] __main__: 调试脚本执行过程中出错: No module named 'qte_data.gm_data_provider_enhanced'
2025-05-14 18:16:08,216 [INFO] __main__: 调试测试完成
2025-05-14 18:16:29,014 [INFO] __main__: 导入必要的模块
2025-05-14 18:16:29,650 [INFO] __main__: ==== 开始执行调试测试 ====
2025-05-14 18:16:29,650 [INFO] __main__: 测试事件循环的基本功能
2025-05-14 18:16:29,650 [INFO] __main__: 事件循环创建成功: <qte_core.event_loop.EventLoop object at 0x00000238772B9850>
2025-05-14 18:16:29,650 [INFO] __main__: 事件队列类型: <class 'collections.deque'>
2025-05-14 18:16:29,652 [INFO] __main__: 事件队列长度: 0
2025-05-14 18:16:29,652 [INFO] __main__: 测试GmDataProvider的初始化
2025-05-14 18:16:29,653 [INFO] __main__: GmDataProvider创建成功: <qte_data.gm_data_provider.GmDataProvider object at 0x0000023874881210>
2025-05-14 18:16:29,653 [INFO] __main__: 下载器: <qte_data.gm_data_provider.GmDataDownloader object at 0x00000238773E9CD0>
2025-05-14 18:16:29,654 [INFO] __main__: 事件循环: <qte_core.event_loop.EventLoop object at 0x00000238772B8450>
2025-05-14 18:16:29,654 [INFO] __main__: 数据目录: C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data
2025-05-14 18:16:29,654 [INFO] __main__: 测试下载数据功能
2025-05-14 18:16:29,655 [INFO] __main__: 尝试下载 SHSE.000001 从 2025-05-10 到 2025-05-13 的日线数据
2025-05-14 18:16:29,655 [INFO] qte_data.gm_data_provider: 掘金API连接初始化成功
2025-05-14 18:16:29,655 [INFO] qte_data.gm_data_provider: 开始下载 SHSE.000001 的daily数据，时间范围: 2025-05-10 到 2025-05-13，复权方式: 不复权
2025-05-14 18:16:30,168 [INFO] qte_data.gm_data_provider: 获取到 2 条daily记录
2025-05-14 18:16:30,172 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\daily\SHSE\000001\SHSE_000001_2025-05-10_to_2025-05-13_daily.csv
2025-05-14 18:16:30,172 [INFO] __main__: 成功下载数据，共 2 条记录
2025-05-14 18:16:30,172 [INFO] __main__: 数据列: ['open', 'high', 'low', 'close', 'volume', 'amount', 'position', 'bob', 'eob']
2025-05-14 18:16:30,173 [INFO] __main__: 第一条记录: {'open': 3352.97, 'high': 3372.472, 'low': 3344.269, 'close': 3369.244, 'volume': 41823991000, 'amount': 522080702357.3, 'position': 0, 'bob': Timestamp('2025-05-12 00:00:00+0800', tz='Asia/Shanghai'), 'eob': Timestamp('2025-05-12 00:00:00+0800', tz='Asia/Shanghai')}
2025-05-14 18:16:30,173 [INFO] __main__: 测试获取历史K线功能
2025-05-14 18:16:30,173 [INFO] __main__: 尝试获取 SHSE.000001 从 2025-05-10 18:16:30.173055 到 2025-05-13 18:16:30.173055 的历史K线
2025-05-14 18:16:30,173 [INFO] qte_data.gm_data_provider: 开始下载 SHSE.000001 的daily数据，时间范围: 2025-05-10 到 2025-05-13，复权方式: 不复权
2025-05-14 18:16:30,173 [INFO] qte_data.gm_data_provider: 文件已存在，直接读取: C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\daily\SHSE\000001\SHSE_000001_2025-05-10_to_2025-05-13_daily.csv
2025-05-14 18:16:30,177 [ERROR] __main__: 获取历史K线测试失败: Invalid comparison between dtype=datetime64[ns, pytz.FixedOffset(480)] and Timestamp
2025-05-14 18:16:30,193 [INFO] __main__: 测试市场事件流功能
2025-05-14 18:16:30,193 [INFO] __main__: 尝试创建市场事件流，包含品种: SHSE.000001, SHSE.600519
2025-05-14 18:16:30,193 [INFO] __main__: 成功创建市场事件流
2025-05-14 18:16:30,194 [INFO] qte_data.gm_data_provider: 开始下载 SHSE.000001 的tick数据，时间范围: 2025-05-07 到 2025-05-14
2025-05-14 18:16:30,194 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-07 的tick数据...
2025-05-14 18:16:30,836 [INFO] qte_data.gm_data_provider: 获取到 5686 条tick记录
2025-05-14 18:16:30,906 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-07_tick.csv
2025-05-14 18:16:30,907 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-08 的tick数据...
2025-05-14 18:16:31,133 [INFO] qte_data.gm_data_provider: 获取到 5694 条tick记录
2025-05-14 18:16:31,201 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-08_tick.csv
2025-05-14 18:16:31,201 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-09 的tick数据...
2025-05-14 18:16:31,529 [INFO] qte_data.gm_data_provider: 获取到 5693 条tick记录
2025-05-14 18:16:31,599 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-09_tick.csv
2025-05-14 18:16:31,599 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-10 的tick数据...
2025-05-14 18:16:31,611 [WARNING] qte_data.gm_data_provider: 未获取到 SHSE.000001 在 2025-05-10 的tick数据
2025-05-14 18:16:31,612 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-11 的tick数据...
2025-05-14 18:16:31,624 [WARNING] qte_data.gm_data_provider: 未获取到 SHSE.000001 在 2025-05-11 的tick数据
2025-05-14 18:16:31,624 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-12 的tick数据...
2025-05-14 18:16:31,887 [INFO] qte_data.gm_data_provider: 获取到 5690 条tick记录
2025-05-14 18:16:31,954 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-12_tick.csv
2025-05-14 18:16:31,955 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-13 的tick数据...
2025-05-14 18:16:32,243 [INFO] qte_data.gm_data_provider: 获取到 5690 条tick记录
2025-05-14 18:16:32,308 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-13_tick.csv
2025-05-14 18:16:32,308 [INFO] qte_data.gm_data_provider: 下载 SHSE.000001 在 2025-05-14 的tick数据...
2025-05-14 18:16:32,566 [INFO] qte_data.gm_data_provider: 获取到 5692 条tick记录
2025-05-14 18:16:32,639 [INFO] qte_data.gm_data_provider: 数据已保存到 C:\Users\79071\Documents\GitHub\Quantitative-Backtesting-Engine\test\data\gm_data\tick\SHSE\000001\SHSE_000001_2025-05-14_tick.csv
2025-05-14 18:16:32,650 [ERROR] __main__: 遍历市场事件流时出错: Invalid comparison between dtype=datetime64[ns, Asia/Shanghai] and Timestamp
2025-05-14 18:16:32,660 [WARNING] __main__: 市场事件流未返回任何事件
2025-05-14 18:16:32,660 [INFO] __main__: ==== 测试结果汇总 ====
2025-05-14 18:16:32,660 [INFO] __main__: 事件循环测试: 成功
2025-05-14 18:16:32,661 [INFO] __main__: GmDataProvider初始化测试: 成功
2025-05-14 18:16:32,661 [INFO] __main__: 下载数据测试: 成功
2025-05-14 18:16:32,661 [INFO] __main__: 获取历史K线测试: 失败
2025-05-14 18:16:32,661 [INFO] __main__: 市场事件流测试: 失败
2025-05-14 18:16:32,661 [INFO] __main__: 调试测试完成
